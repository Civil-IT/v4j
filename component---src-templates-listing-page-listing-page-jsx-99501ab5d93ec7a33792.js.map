{"version":3,"file":"component---src-templates-listing-page-listing-page-jsx-99501ab5d93ec7a33792.js","mappings":"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","sources":["webpack://vision-for-justice/./src/common/extractInfoBlock.js","webpack://vision-for-justice/./src/common/extractPageBanner.js","webpack://vision-for-justice/./src/common/extractSubPageHero.js","webpack://vision-for-justice/./node_modules/ramda/es/length.js","webpack://vision-for-justice/./src/components/FourCardGrid/FourCardGrid.jsx","webpack://vision-for-justice/./src/components/Promo/Promo.jsx","webpack://vision-for-justice/./src/components/SubPageHero/SubPageHero.jsx","webpack://vision-for-justice/./node_modules/ramda/es/pathEq.js","webpack://vision-for-justice/./src/components/ContentListing/ContentListingItem.jsx","webpack://vision-for-justice/./src/components/ContentListing/ContentListing.jsx","webpack://vision-for-justice/./src/templates/ListingPage/ListingPage.jsx"],"sourcesContent":["import * as R from \"ramda\";\r\n\r\nimport extractLink, { linkFields } from \"./extractLink.js\";\r\nimport extractTag, { tagFields } from \"./extractTag.js\";\r\nimport { node, shape, string } from \"prop-types\";\r\n\r\nimport extractImage from \"./extractImage.jsx\";\r\nimport { renderRichText } from \"gatsby-source-contentful/rich-text\";\r\n\r\nexport default R.compose(\r\n  R.applySpec({\r\n    title: R.prop(\"title\"),\r\n    sectionTitle: R.prop(\"sectionTitle\"),\r\n    text: R.compose(R.unless(R.isNil, renderRichText), R.prop(\"description\")),\r\n    image: R.ifElse(\r\n      (data) => data === null,\r\n      //return undefined so components render nothing\r\n      () => undefined,\r\n      R.compose(extractImage, R.prop(\"image\")),\r\n    ),\r\n    link: R.ifElse(\r\n      (data) => data === null,\r\n      //return undefined so components render nothing\r\n      () => undefined,\r\n      R.compose(extractLink, R.prop(\"link\")),\r\n    ),\r\n    tag: R.compose(R.unless(R.isNil, extractTag), R.prop(\"tag\")),\r\n  }),\r\n  R.defaultTo({}),\r\n);\r\n\r\nexport const infoBlockFields = {\r\n  title: string,\r\n  sectionTitle: string,\r\n  text: string,\r\n  image: node,\r\n  link: shape(linkFields),\r\n  tag: shape(tagFields),\r\n};\r\n","import * as R from \"ramda\";\r\n\r\nexport default R.compose(\r\n  R.applySpec({\r\n    title: R.prop(\"title\"),\r\n    description: R.prop(\"description\"),\r\n  }),\r\n  R.defaultTo({}),\r\n);\r\n","import * as R from \"ramda\";\r\n\r\nimport extractImage from \"./extractImage.jsx\";\r\n\r\nexport default R.compose(\r\n  R.applySpec({\r\n    title: R.prop(\"subPageHeroTitle\"),\r\n    subtitle: R.prop(\"subPageHeroSubtitle\"),\r\n    foregroundImage: R.ifElse(\r\n      R.compose((data) => (data ? true : false), R.prop(\"foregroundImage\")),\r\n      R.compose(extractImage, R.prop(\"foregroundImage\")),\r\n      () => null,\r\n    ),\r\n    foregroundVideoId: R.ifElse(\r\n      R.compose(\r\n        (data) => (data ? true : false),\r\n        R.path([\"foregroundVideo\", \"videoId\"]),\r\n      ),\r\n      R.path([\"foregroundVideo\", \"videoId\"]),\r\n      () => null,\r\n    ),\r\n    backgroundImage: R.unless(\r\n      R.compose(R.isNil, R.prop(\"backgroundImage\")),\r\n      R.compose(extractImage, R.prop(\"backgroundImage\")),\r\n    ),\r\n  }),\r\n  R.defaultTo({}),\r\n);\r\n","import _curry1 from \"./internal/_curry1.js\";\nimport _isNumber from \"./internal/_isNumber.js\";\n/**\n * Returns the number of elements in the array by returning `list.length`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig [a] -> Number\n * @param {Array} list The array to inspect.\n * @return {Number} The length of the array.\n * @example\n *\n *      R.length([]); //=> 0\n *      R.length([1, 2, 3]); //=> 3\n */\n\nvar length = /*#__PURE__*/_curry1(function length(list) {\n  return list != null && _isNumber(list.length) ? list.length : NaN;\n});\n\nexport default length;","import \"./four-card-grid.scss\";\r\n\r\nimport * as R from \"ramda\";\r\n\r\nimport { arrayOf, object, string } from \"prop-types\";\r\n\r\nimport Button from \"../Button/Button\";\r\nimport Container100 from \"../Container/Container100.jsx\";\r\nimport PlusSigns from \"../PlusSigns/PlusSigns.jsx\";\r\nimport { useState } from \"react\";\r\n\r\nconst propTypes = {\r\n  title: string,\r\n  description: string,\r\n  cards: arrayOf(object).isRequired,\r\n};\r\n\r\nconst FourCardGrid = (props) => {\r\n  const { title, description, cards } = props;\r\n\r\n  //there are over 100 partners so split them into groups of 16\r\n  const groupsOf16Cards = R.splitEvery(16, cards);\r\n  const totalGroups = R.length(groupsOf16Cards);\r\n\r\n  const [groupsToDisplay, setGroupsToDisplay] = useState(1);\r\n\r\n  const displayedCards = R.unnest(\r\n    groupsOf16Cards.filter((group, i) => i <= groupsToDisplay - 1),\r\n  );\r\n\r\n  return (\r\n    <section className=\"four-card-grid\">\r\n      <Container100 className=\"container--wider\">\r\n        <PlusSigns />\r\n        <div className=\"four-card-grid__header\">\r\n          {title && (\r\n            <h2>\r\n              <strong>{title}</strong>\r\n            </h2>\r\n          )}\r\n          {description && (\r\n            <div className=\"four-card-grid__description\">{description}</div>\r\n          )}\r\n        </div>\r\n        <div className=\"four-card-grid__cards\">{displayedCards}</div>\r\n        {groupsToDisplay < totalGroups && (\r\n          <div className=\"four-card-grid__load-more\">\r\n            <Button\r\n              className=\"btn--big\"\r\n              onClick={() => setGroupsToDisplay((prevState) => prevState + 1)}\r\n              type=\"button\"\r\n            >\r\n              Load More\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </Container100>\r\n    </section>\r\n  );\r\n};\r\n\r\nFourCardGrid.propTypes = propTypes;\r\nexport default FourCardGrid;\r\n","import \"./promo.scss\";\r\n\r\nimport * as R from \"ramda\";\r\n\r\nimport { node, object, shape, string } from \"prop-types\";\r\n\r\nimport ContentfulLink from \"../ContentfulLink/ContentfulLink.jsx\";\r\nimport { navigate } from \"gatsby\";\r\nimport { tagFields } from \"../../common/extractTag.js\";\r\nimport { useContentfulSiteMap } from \"../../common/contentfulSiteMap.jsx\";\r\n\r\nconst propTypes = {\r\n  title: string.isRequired,\r\n  image: node.isRequired,\r\n  text: node.isRequired,\r\n  link: object.isRequired, //conteful link validates\r\n  tag: shape(tagFields),\r\n  hasMargins: Boolean,\r\n};\r\n\r\nconst Promo = (props) => {\r\n  const { link, tag, image, text, title, hasMargins = false } = props;\r\n\r\n  const siteMap = useContentfulSiteMap();\r\n\r\n  const handleClick = (link) => {\r\n    const path = link.to || R.path([link.pageId, \"path\"])(siteMap);\r\n    if (!R.isNil(path)) {\r\n      // for external and media links, open a in a new window\r\n      if (link.type === \"external\") {\r\n        window.open(path, \"_blank\");\r\n      }\r\n      // for internal/page links, navigate regularly\r\n      else {\r\n        navigate(path);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      data-aos=\"fade-down\"\r\n      className={\"promo__card is-clickable \" + (hasMargins ? \"take-actions\" : \"\")}\r\n    >\r\n      <div\r\n        role=\"presentation\"\r\n        className=\"promo__content\"\r\n        tabIndex=\"-1\"\r\n        onClick={() => handleClick(link)}\r\n      >\r\n        {image && (\r\n          <div\r\n            className=\"promo__img-wrapper\"\r\n            style={{ \"--tag-color\": tag?.color.colorValue }}\r\n          >\r\n            {tag && <div className=\"promo__tag\">{tag.title}</div>}\r\n            {image}\r\n          </div>\r\n        )}\r\n        {link && text ?<div className=\"promo__card-content\">\r\n          <div className=\"promo__card-title\">{title}</div>\r\n          {text && <div className=\"promo__card-description\">{text}</div>}\r\n          {link && <ContentfulLink className=\"promo__cta\" {...link} />}\r\n        </div>: null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nPromo.propTypes = propTypes;\r\nexport default Promo;\r\n","import \"./sub-page-hero.scss\";\r\n\r\nimport { node, shape, string } from \"prop-types\";\r\n\r\nimport MediaBlock from \"../MediaBlock/MediaBlock.jsx\";\r\nimport YouTube from \"react-youtube\";\r\nimport cx from \"classnames\";\r\nimport styled from \"styled-components\";\r\nimport tagFields from \"../../common/extractTag.js\";\r\nimport useAOS from \"../../common/useAOS.js\";\r\n\r\nconst propTypes = {\r\n  title: string.isRequired,\r\n  subtitle: node,\r\n  foregroundImage: node.isRequired,\r\n  foregroundVideoId: string,\r\n  backgroundImage: node,\r\n  tag: shape(tagFields),\r\n};\r\n\r\n//handle the background scrim color propvided by contenful tag\r\nconst SubPageHeroImgWrapper = styled.div`\r\n  &:before {\r\n    background: ${(props) =>\r\n      props.color ? props.color.colorValue : \"#000000\"};\r\n  }\r\n`;\r\n\r\nconst SubPageHero = (props) => {\r\n  const {\r\n    foregroundImage,\r\n    foregroundVideoId,\r\n    backgroundImage,\r\n    title,\r\n    subtitle,\r\n    tag,\r\n  } = props;\r\n\r\n  useAOS();\r\n\r\n  return (\r\n    <section className=\"sub-page-hero container container--bleed container--has-background\">\r\n      <SubPageHeroImgWrapper\r\n        className=\"sub-page-hero__background-img\"\r\n        color={tag && tag.color ? tag.color : null}\r\n      >\r\n        {backgroundImage}\r\n      </SubPageHeroImgWrapper>\r\n      <div className=\"container container--100 sub-page-hero__content-wrapper\">\r\n        <h1\r\n          data-aos=\"fade-down\"\r\n          data-aos-offset=\"0\"\r\n          className=\"sub-page-hero__title\"\r\n        >\r\n          <strong>{title}</strong>\r\n        </h1>\r\n        <div\r\n          data-aos=\"fade-down\"\r\n          data-aos-offset=\"0\"\r\n          className=\"sub-page-hero__subtitle\"\r\n        >\r\n          {subtitle}\r\n        </div>\r\n        <MediaBlock\r\n          offset={0.9}\r\n          className={cx({ \"media-block--video\": foregroundVideoId })}\r\n        >\r\n          {foregroundVideoId && (\r\n            <YouTube className=\"you-tube-video\" videoId={foregroundVideoId} />\r\n          )}\r\n          {!foregroundVideoId && (\r\n            <div className=\"sub-page-hero__foreground-img\">\r\n              {foregroundImage}\r\n            </div>\r\n          )}\r\n        </MediaBlock>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nSubPageHero.propTypes = propTypes;\r\nexport default SubPageHero;\r\n","import _curry3 from \"./internal/_curry3.js\";\nimport equals from \"./equals.js\";\nimport path from \"./path.js\";\n/**\n * Determines whether a nested path on an object has a specific value, in\n * [`R.equals`](#equals) terms. Most likely used to filter a list.\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Relation\n * @typedefn Idx = String | Int\n * @sig [Idx] -> a -> {a} -> Boolean\n * @param {Array} path The path of the nested property to use\n * @param {*} val The value to compare the nested property with\n * @param {Object} obj The object to check the nested property in\n * @return {Boolean} `true` if the value equals the nested object property,\n *         `false` otherwise.\n * @example\n *\n *      const user1 = { address: { zipCode: 90210 } };\n *      const user2 = { address: { zipCode: 55555 } };\n *      const user3 = { name: 'Bob' };\n *      const users = [ user1, user2, user3 ];\n *      const isFamous = R.pathEq(['address', 'zipCode'], 90210);\n *      R.filter(isFamous, users); //=> [ user1 ]\n */\n\nvar pathEq = /*#__PURE__*/_curry3(function pathEq(_path, val, obj) {\n  return equals(path(_path, obj), val);\n});\n\nexport default pathEq;","import \"./content-listing-item.scss\";\r\n\r\nimport * as R from \"ramda\";\r\n\r\nimport { node, object, string } from \"prop-types\";\r\nimport { useRef, useState } from \"react\";\r\n\r\nimport ContentfulLink from \"../ContentfulLink/ContentfulLink.jsx\";\r\nimport cx from \"classnames\";\r\nimport { navigate } from \"gatsby\";\r\nimport { useContentfulSiteMap } from \"../../common/contentfulSiteMap.jsx\";\r\nimport useScrollama from \"../../common/useScrollama.js\";\r\n\r\nconst propTypes = {\r\n  title: string.isRequired,\r\n  text: node,\r\n  image: node,\r\n  link: object,\r\n};\r\n\r\nconst ContentListingItem = (props) => {\r\n  const { title, text, image, link } = props;\r\n\r\n  const siteMap = useContentfulSiteMap();\r\n\r\n  const handleClick = (link) => {\r\n    const path = link.to || R.path([link.pageId, \"path\"])(siteMap);\r\n    if (!R.isNil(path)) {\r\n      // for external and media links, open a in a new window\r\n      if (link.type === \"external\") {\r\n        window.open(path, \"_blank\");\r\n      }\r\n      // for internal/page links, navigate regularly\r\n      else {\r\n        navigate(path);\r\n      }\r\n    }\r\n  };\r\n\r\n  const itemRef = useRef();\r\n  const [entered, setEntered] = useState(false);\r\n\r\n  useScrollama(itemRef, {\r\n    offset: 0.7,\r\n    // debug: true,\r\n    onStepEnter: () => setEntered(true),\r\n    once: true,\r\n  });\r\n\r\n  return (\r\n    <li\r\n      className={cx(\"content-listing-item\", {\r\n        \"content-listing-item--entered\": entered,\r\n      })}\r\n      ref={itemRef}\r\n    >\r\n      <div className=\"content-listing-item__wrapper\">\r\n        <div>\r\n          {title && <div className=\"content-listing-item__title\">{title}</div>}\r\n          <div className=\"content-listing-item__description\">\r\n            {text}\r\n            {link && (\r\n              <ContentfulLink\r\n                className=\"content-listing-item__link\"\r\n                {...link}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"is-clickable\"\r\n          role=\"presentation\"\r\n          onClick={() => handleClick(link)}\r\n        >\r\n          {image && image}\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nContentListingItem.propTypes = propTypes;\r\nexport default ContentListingItem;\r\n","import \"./content-listing.scss\";\r\n\r\nimport { array, string } from \"prop-types\";\r\n\r\nimport ContentListingItem from \"./ContentListingItem.jsx\";\r\n\r\nconst propTypes = {\r\n  title: string,\r\n  description: string,\r\n  contentItems: array.isRequired,\r\n};\r\n\r\nconst ContentListing = (props) => {\r\n  const { title, description, contentItems } = props;\r\n\r\n  return (\r\n    <section className=\"content-listing\">\r\n      <div className=\"content-listing__header\">\r\n        {title && <h2 className=\"content-listing__title\"> {title}</h2>}\r\n        {description && <p className=\"content-description\"> {description}</p>}\r\n      </div>\r\n      <ul>\r\n        {contentItems &&\r\n          contentItems.map((item, i) => (\r\n            <ContentListingItem key={i} {...item} />\r\n          ))}\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nContentListing.propTypes = propTypes;\r\nexport default ContentListing;\r\n","import \"./listing-page.scss\";\r\n\r\nimport * as R from \"ramda\";\r\n\r\nimport { shape, string } from \"prop-types\";\r\n\r\nimport BreadCrumb from \"../../components/BreadCrumb/BreadCrumb.jsx\";\r\nimport Container100 from \"../../components/Container/Container100.jsx\";\r\nimport ContainerBleed from \"../../components/Container/ContainerBleed.jsx\";\r\nimport ContentListing from \"../../components/ContentListing/ContentListing.jsx\";\r\nimport EventsPage from \"../../components/EventsPage/EventsPage\";\r\nimport FourCardGrid from \"../../components/FourCardGrid/FourCardGrid.jsx\";\r\nimport Page from \"../../components/Page/Page.jsx\";\r\nimport PageBanner from \"../../components/PageBanner/PageBanner.jsx\";\r\nimport Promo from \"../../components/Promo/Promo.jsx\";\r\nimport SignUp from \"../../components/SignUp/SignUp.jsx\";\r\nimport SlideShowBlock from \"../../components/SlideShow/SlideShowBlock.jsx\";\r\nimport SubPageHero from \"../../components/SubPageHero/SubPageHero.jsx\";\r\nimport TwoUpTextBanner from \"../../components/TwoUpTextBanner/TwoUpTextBanner.jsx\";\r\nimport extractInfoBlock from \"../../common/extractInfoBlock.js\";\r\nimport extractPageBanner from \"../../common/extractPageBanner.js\";\r\nimport extractSlideShow from \"../../common/extractSlideShow.js\";\r\nimport extractSubPageHero from \"../../common/extractSubPageHero.js\";\r\nimport extractTag from \"../../common/extractTag.js\";\r\nimport extractTwoUpTextBanner from \"../../common/extractTwoUpTextBanner.js\";\r\nimport { graphql } from \"gatsby\";\r\n\r\nconst propTypes = { pageContext: shape({ id: string.isRequired }).isRequired };\r\n\r\nconst ListingPage = (props) => {\r\n  const {\r\n    pageContext: { id },\r\n  } = props;\r\n\r\n  const data = R.compose(\r\n    R.applySpec({\r\n      pageBanner: R.ifElse(\r\n        R.pathEq([\"listingPageHeader\", \"__typename\"], \"ContentfulPageBanner\"),\r\n        R.compose(extractPageBanner, R.prop(\"listingPageHeader\")),\r\n        () => null,\r\n      ),\r\n      subPageHero: R.ifElse(\r\n        R.pathEq([\"listingPageHeader\", \"__typename\"], \"ContentfulSubPageHero\"),\r\n        R.compose(extractSubPageHero, R.prop(\"listingPageHeader\")),\r\n        () => null,\r\n      ),\r\n      listingPageTwoUpTextBanner: R.prop(\"listingPageTwoUpTextBanner\"),\r\n      listingPageSlideShow: R.prop(\"listingPageSlideShow\"),\r\n      listingDisplay: R.prop(\"listingDisplay\"),\r\n    }),\r\n    R.evolve({\r\n      listingPageSlideShow: R.unless(R.isNil, extractSlideShow),\r\n      listingPageTwoUpTextBanner: R.unless(R.isNil, extractTwoUpTextBanner),\r\n    }),\r\n    R.defaultTo({}),\r\n    R.path([\"data\", \"contentfulPage\", \"pageContent\"]),\r\n  )(props);\r\n\r\n  const pageTitle = R.path([\"data\", \"contentfulPage\", \"title\"])(props);\r\n\r\n  const pageInfo = R.compose(\r\n    R.compose(R.unless(R.isNil, extractInfoBlock)),\r\n    R.path([\"data\", \"contentfulPage\", \"pageListingInfo\"]),\r\n  )(props);\r\n\r\n  const tag = R.compose(\r\n    R.unless(R.isNil, extractTag),\r\n    R.path([\"data\", \"contentfulPage\", \"pageTag\"]),\r\n  )(props);\r\n\r\n  const listingInfoItems = R.compose(\r\n    R.map(R.compose(extractInfoBlock, R.prop(\"pageListingInfo\"))),\r\n    //if a page has no listing info, remove it from the array\r\n    R.filter(R.compose((data) => data !== null, R.prop(\"pageListingInfo\"))),\r\n    R.defaultTo([]),\r\n    R.path([\"data\", \"contentfulPage\", \"subPages\"]),\r\n  )(props);\r\n\r\n  const {\r\n    subPageHero,\r\n    pageBanner,\r\n    listingPageSlideShow,\r\n    listingPageTwoUpTextBanner,\r\n    listingDisplay,\r\n  } = data;\r\n\r\n  if(props.path ==='/take-action/events') console.log('YEAH');\r\n\r\n  return (\r\n    <>\r\n    {props.path !== '/take-action/events'?(<Page\r\n      pageTitle={pageTitle}\r\n      pageDescription={\r\n        subPageHero ? subPageHero?.subtitle : pageBanner?.description\r\n      }\r\n      className=\"listing-page\"\r\n    >\r\n      <BreadCrumb pageId={id} />\r\n\r\n      {subPageHero && <SubPageHero tag={tag} {...subPageHero} />}\r\n\r\n      {pageBanner && <PageBanner {...pageBanner} />}\r\n\r\n      {listingInfoItems && (\r\n        <Container100 className=\"container--wider\">\r\n          {listingDisplay ? (\r\n            <ContentListing\r\n              title={pageInfo ? pageInfo.title : null}\r\n              // title={\"TITLE\"}\r\n              description={pageInfo ? pageInfo.text : null}\r\n              // description={\"DESCRIPTION\"}\r\n              contentItems={listingInfoItems}\r\n            />\r\n          ) : (\r\n            <FourCardGrid\r\n              title={pageInfo ? pageInfo.title : null}\r\n              description={pageInfo ? pageInfo.text : null}\r\n              cards={listingInfoItems.map((item, i) => (\r\n                <Promo key={i} {...item} />\r\n              ))}\r\n            />\r\n          )}\r\n        </Container100>\r\n      )}\r\n\r\n      {listingPageSlideShow && (\r\n        <ContainerBleed className=\"listing-page__slide-show-bleed container--has-background\">\r\n          <SlideShowBlock {...listingPageSlideShow} />\r\n        </ContainerBleed>\r\n      )}\r\n\r\n      {listingPageTwoUpTextBanner && (\r\n        <ContainerBleed>\r\n          <TwoUpTextBanner {...listingPageTwoUpTextBanner} />\r\n        </ContainerBleed>\r\n      )}\r\n\r\n      <ContainerBleed>\r\n        <SignUp\r\n          title=\"Join Our Movement\"\r\n          subtitle=\"Sign up for our emails and learn how to get involved in Vision for Justice and help transform our criminal-legal system.\"\r\n        />\r\n      </ContainerBleed>\r\n    </Page>\r\n   ):(  <EventsPage />)}\r\n    </>\r\n  );\r\n};\r\n\r\nListingPage.propTypes = propTypes;\r\nexport default ListingPage;\r\n\r\nexport const query = graphql`\r\n  query ListingPageQuery($id: String!) {\r\n    contentfulPage(id: { eq: $id }) {\r\n      ...Page\r\n    }\r\n  }\r\n`;\r\n"],"names":["R","title","sectionTitle","text","renderRichText","image","data","extractImage","link","extractLink","tag","extractTag","string","node","shape","linkFields","tagFields","description","subtitle","foregroundImage","foregroundVideoId","backgroundImage","_curry1","list","_isNumber","length","NaN","propTypes","cards","arrayOf","object","isRequired","FourCardGrid","props","groupsOf16Cards","totalGroups","useState","groupsToDisplay","setGroupsToDisplay","displayedCards","filter","group","i","className","Container100","PlusSigns","Button","onClick","prevState","type","hasMargins","Boolean","Promo","siteMap","useContentfulSiteMap","role","tabIndex","path","to","pageId","window","open","navigate","handleClick","style","color","colorValue","SubPageHeroImgWrapper","styled","SubPageHero","useAOS","offset","cx","videoId","_curry3","_path","val","obj","equals","ContentListingItem","itemRef","useRef","entered","setEntered","useScrollama","onStepEnter","once","ref","ContentfulLink","contentItems","array","ContentListing","map","item","pageContext","id","ListingPage","pageBanner","extractPageBanner","subPageHero","extractSubPageHero","listingPageTwoUpTextBanner","listingPageSlideShow","listingDisplay","extractSlideShow","extractTwoUpTextBanner","pageTitle","pageInfo","extractInfoBlock","listingInfoItems","console","log","Page","pageDescription","BreadCrumb","PageBanner","ContainerBleed","SlideShowBlock","TwoUpTextBanner","SignUp","EventsPage"],"sourceRoot":""}